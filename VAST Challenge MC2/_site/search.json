{
  "articles": [
    {
      "path": "about.html",
      "title": "About this site",
      "description": "Some additional details about the website",
      "author": [],
      "contents": "\r\n\r\n\r\n\r\n",
      "last_modified": "2021-07-26T11:19:25+08:00"
    },
    {
      "path": "index.html",
      "title": "Assignment - VAST Challenge MC2",
      "description": "This post presents the step by step instructions that were followed to identify which GASTech employess made which purchases and identify suspicious patterns of behavior using visual analytic techniques.\n",
      "author": [
        {
          "name": "Mayurapriyann Arulmozhi Baskaran",
          "url": "https://www.linkedin.com/in/mayurapriyann/"
        }
      ],
      "date": "07-25-2021",
      "contents": "\r\nOverview\r\nTethys-based GAStech has been operating a natural gas production site in the island country of Kronos for the past twenty years. The company has produced remarkable profits and developed strong relationships with the government of Kronos. However, GAStech has not been successful in demonstrating environmental stewardship.\r\nIn January 2014, the leaders of GAStech are celebrating their newfound fortune as a result of the initial public offering of their very successful company. In the midst of this celebration, several employees of GAStech go missing. An organization known as the Protectors of Kronos (POK) is suspected of the disappearance.\r\nObjective\r\nMost of the employees of GAStech are provided with company cars approved for both personal and business use. Those who do not have company cars are given access to company trucks, but these cannot be used for personal use.\r\nThe company cars are of much higher quality than the cars the employees would be able to afford otherwise. However, GAStech has installed geospatial tracking software in the company vehicles to track the movements periodically. The vehicle data is available for two weeks prior to the disappearance.\r\nIn addition to the geospatial data, Kronos-based companies provide a benefits card giving the employees discounts and rewards in exchange for collecting the credit card purchases and preferences. The objective of the analysis is to identify suspicious patterns of behavior of the employees to make recommendations for further investigation.\r\nIn January 2014, the leaders of GAStech are celebrating their newfound fortune as a result of the initial public offering of their very successful company. In the midst of this celebration, several employees of GAStech go missing. An organization known as the Protectors of Kronos (POK) is suspected of the disappearance.\r\nLiterature review\r\nLiterature review was conducted to analyze how the various analyses with similar objectives had been performed earlier and whether those techniques used in the past are applicable to this assignment with/without enhancements. Also, the issues identified in the previous analyses were also discussed and alternative approaches are provided to overcome those issues. The mini-challenge published in the year 2014 was similar hence a few of those submissions were reviewed before starting this assignment.\r\nIn the submission by Middlesex University, the credit card and loyalty card usage by the employees of GASTech was visualized by 3D bar plot and it can be inferred that truck drivers tend to spend the most compared to the other employees but it is always advisable to avoid using 3D effects unless we have three-dimensional data. Clear visualizations can be achieved by using interactive 2D plots. Most of the analyses have been performed by custom-made analytical tools which are not accessible by the general public. Hence this assignment is built on R packages to cater wide segment of the audience mainly due to script reproducibility.\r\nIn the submission by KU Leven University, the daily routine is interestingly visualized by grouping it according to the department type and further faceted by day of the month. A box plot is utilized to find the outliers present for all the locations where the credit cards are used. Though it is spaced perfectly to get a clear view, we were not able to pinpoint the location of the outlier quickly as there are many locations. To overcome this issue, in our assignment I have added interactivity by adding the tooltip so by just hovering the mouse cursor on the outliers shows the corresponding location where the transaction had taken place and in addition to this, other details such as minimum, 25th percentile, median, 75th percentile, maximum values can also be found.\r\nIn the submission by the University of Buenos Aires, a heat map is used to visualize the credit card data per hour with sequential colors to find out the abnormalities, though it is visually appealing to find the abnormalities, the exact number of transactions cannot be got from the plot. This issue can be overcome by adding interactivity to the heat map so that the count of the transactions can be known via tooltips just hovering the cursor over the specific points.\r\nTask 1\r\nUsing just the credit and loyalty card data, identify the most popular locations, and when they are popular. What anomalies do you see? What corrections would you recommend to correct these anomalies?\r\nAll the data extraction, wrangling and preparing the input data required to perform the analysis are done in R using appropriate packages.\r\nSetting up the environment\r\nFirstly, it is important to install the necessary R packages and launch them into R Studio environment. The below code chunk checks for the available packages and installs those packages that are not available. In-addition to that, all those packages will be launched into RStudio environment.\r\nraster - To read, write, manipulate, analyze, model spatial data  sf - To support simple features and encode spatial vector data  tmap - To visualize spatial data distributions  tidyverse - A opinionated collection of R packages for data science  clock - Provides a comprehensive library for date-time manipulations  rgdal - Works on both raster and vector data types for manipulating geospatial data  tidytext - Makes text mining tasks easier, more effective and consistent  widyr - To widen the matrix, perform some processing, then turn back to tidy form  DT - To render data objects as HTML tables using JavaScript library  dplyr - A fast, consistent tool for working with data frame like objects  hms - To store and format time-of-day values  ggraph - An extension of ggplot2 for graph and network visualizations igraph - For simple graphs and network analysis  crosstalk - To support linked brushing and filtering  plotly - To create interactive web graphics and custom interface  data.table - To handle data sets in R  stringi - For fast, correct, consistent, and convenient string/text manipulation  mapview - To create interactive visualizations of spatial data  ggridges - Used for visualizing changes in distributions over time  networkD3 - To create interactive network graphs with JavaScript  htmlwidgets - A framework for creating HTML widgets in R console \r\n\r\n\r\npackages = c('raster','sf','tmap','tidyverse','clock','rgdal','tidytext','widyr',\r\n             'DT','dplyr','hms','ggraph','igraph','crosstalk',\r\n             'plotly','data.table','stringi','mapview','ggridges','networkD3',\r\n             'htmlwidgets')\r\n\r\nfor(p in packages){\r\n  if(!require(p, character.only = T)){\r\n    install.packages(p)\r\n  }\r\n  library(p, character.only = T)\r\n}\r\n\r\n\r\n\r\nReading the credit card and loyalty card details\r\nImporting credit card and loyalty card details into two separate data frames.\r\n\r\n\r\ncc <- read_csv(file = 'data/cc_data.csv')\r\n\r\nlc <- read_csv(file = 'data/loyalty_data.csv')\r\n\r\n\r\n\r\nRenaming foreign characters\r\nA single value under the location column has a non-english character hence replacing the foreign character with alternative english character.\r\n\r\n\r\nsetDT(cc)[location %like% \"^Katerina\", location := \"Katerina's Cafe\"]\r\nsetDT(lc)[location %like% \"^Katerina\", location := \"Katerina's Cafe\"]\r\n\r\n\r\n\r\nView the columns of the dataset and their respective attributes.\r\n\r\n\r\nglimpse(cc)\r\n\r\n\r\nRows: 1,490\r\nColumns: 4\r\n$ timestamp  <chr> \"01/06/2014 07:28\", \"01/06/2014 07:34\", \"01/06/20~\r\n$ location   <chr> \"Brew've Been Served\", \"Hallowed Grounds\", \"Brew'~\r\n$ price      <dbl> 11.34, 52.22, 8.33, 16.72, 4.24, 4.17, 28.73, 9.6~\r\n$ last4ccnum <dbl> 4795, 7108, 6816, 9617, 7384, 5368, 7253, 4948, 9~\r\n\r\nglimpse(lc)\r\n\r\n\r\nRows: 1,392\r\nColumns: 4\r\n$ timestamp  <chr> \"01/06/2014\", \"01/06/2014\", \"01/06/2014\", \"01/06/~\r\n$ location   <chr> \"Brew've Been Served\", \"Brew've Been Served\", \"Ha~\r\n$ price      <dbl> 4.17, 9.60, 16.53, 11.51, 12.93, 4.27, 11.20, 15.~\r\n$ loyaltynum <chr> \"L2247\", \"L9406\", \"L8328\", \"L6417\", \"L1107\", \"L40~\r\n\r\nChanging data type and extracting new columns\r\nIt can be seen that the timestamp column is in character datatype. Hence, it is converted to timestamp format. After which day, hour and day of the week are extracted from the timestamp column. In addition, the ‘last4ccnum’ column in the credit card dataset is changed from integer format to character format.\r\n\r\n\r\ncc$timestamp <- date_time_parse(cc$timestamp,\r\n                                zone = \"\",\r\n                                format = \"%m/%d/%Y %H:%M\")\r\n\r\nlc$timestamp <- date_time_parse(lc$timestamp,\r\n                                zone = \"\",\r\n                                format = \"%m/%d/%Y\")\r\n\r\n\r\ncc <- cc %>%\r\n  mutate(day = get_day(timestamp),\r\n         hour = get_hour(timestamp),\r\n         date = as_date(timestamp))\r\n\r\nlc <- lc %>%\r\n  mutate(day = get_day(timestamp))\r\n\r\n\r\ncc$dayofweek <- weekdays(cc$timestamp)\r\n\r\nlc$dayofweek <- weekdays(lc$timestamp)\r\n\r\ncc$last4ccnum <- as.character(cc$last4ccnum)\r\n\r\n\r\n\r\nGetting a glimpse after change\r\nView the columns of the dataset and their respective attributes after pre-processing.\r\n\r\n\r\nglimpse(cc)\r\n\r\n\r\nRows: 1,490\r\nColumns: 8\r\n$ timestamp  <dttm> 2014-01-06 07:28:00, 2014-01-06 07:34:00, 2014-0~\r\n$ location   <chr> \"Brew've Been Served\", \"Hallowed Grounds\", \"Brew'~\r\n$ price      <dbl> 11.34, 52.22, 8.33, 16.72, 4.24, 4.17, 28.73, 9.6~\r\n$ last4ccnum <chr> \"4795\", \"7108\", \"6816\", \"9617\", \"7384\", \"5368\", \"~\r\n$ day        <int> 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6~\r\n$ hour       <int> 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7~\r\n$ date       <date> 2014-01-06, 2014-01-06, 2014-01-06, 2014-01-06, ~\r\n$ dayofweek  <chr> \"Monday\", \"Monday\", \"Monday\", \"Monday\", \"Monday\",~\r\n\r\nglimpse(lc)\r\n\r\n\r\nRows: 1,392\r\nColumns: 6\r\n$ timestamp  <dttm> 2014-01-06, 2014-01-06, 2014-01-06, 2014-01-06, ~\r\n$ location   <chr> \"Brew've Been Served\", \"Brew've Been Served\", \"Ha~\r\n$ price      <dbl> 4.17, 9.60, 16.53, 11.51, 12.93, 4.27, 11.20, 15.~\r\n$ loyaltynum <chr> \"L2247\", \"L9406\", \"L8328\", \"L6417\", \"L1107\", \"L40~\r\n$ day        <int> 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6~\r\n$ dayofweek  <chr> \"Monday\", \"Monday\", \"Monday\", \"Monday\", \"Monday\",~\r\n\r\nUsually, the loyalty cards are used along with the credit cards to get some discounts and rewards but there is a mismatch between the total number of records between the credit card transactions (1490) and loyalty card transactions (1392).\r\nGetting the count of transactions made by the employees with credit cards and loyalty cards in order to find the most frequented and least frequented locations.\r\nBuilding the visualization\r\nTask 1\r\nUsing just the credit and loyalty card data, identify the most popular locations, and when they are popular. What anomalies do you see? What corrections would you recommend to correct these anomalies?\r\nAll the data extraction, wrangling and preparing the input data required to perform the analysis are done in R using appropriate packages.\r\nSetting up the environment\r\nFirstly, it is important to install the necessary R packages and launch them into R Studio environment. The below code chunk checks for the available packages and installs those packages that are not available. In-addition to that, all those packages will be launched into RStudio environment.\r\nraster - To read, write, manipulate, analyze, model spatial data  sf - To support simple features and encode spatial vector data  tmap - To visualize spatial data distributions  tidyverse - A opinionated collection of R packages for data science  clock - Provides a comprehensive library for date-time manipulations  rgdal - Works on both raster and vector data types for manipulating geospatial data  tidytext - Makes text mining tasks easier, more effective and consistent  widyr - To widen the matrix, perform some processing, then turn back to tidy form  DT - To render data objects as HTML tables using JavaScript library  dplyr - A fast, consistent tool for working with data frame like objects  hms - To store and format time-of-day values  ggraph - An extension of ggplot2 for graph and network visualizations igraph - For simple graphs and network analysis  crosstalk - To support linked brushing and filtering  plotly - To create interactive web graphics and custom interface  data.table - To handle data sets in R  stringi - For fast, correct, consistent, and convenient string/text manipulation  mapview - To create interactive visualizations of spatial data  ggridges - Used for visualizing changes in distributions over time  networkD3 - To create interactive network graphs with JavaScript  htmlwidgets - A framework for creating HTML widgets in R console \r\n\r\n\r\npackages = c('raster','sf','tmap','tidyverse','clock','rgdal','tidytext','widyr',\r\n             'DT','dplyr','hms','ggraph','igraph','crosstalk',\r\n             'plotly','data.table','stringi','mapview','ggridges','networkD3',\r\n             'htmlwidgets')\r\n\r\nfor(p in packages){\r\n  if(!require(p, character.only = T)){\r\n    install.packages(p)\r\n  }\r\n  library(p, character.only = T)\r\n}\r\n\r\n\r\n\r\nReading the credit card and loyalty card details\r\nImporting credit card and loyalty card details into two separate data frames.\r\n\r\n\r\ncc <- read_csv(file = 'data/cc_data.csv')\r\n\r\nlc <- read_csv(file = 'data/loyalty_data.csv')\r\n\r\n\r\n\r\nRenaming foreign characters\r\nA single value under the location column has a non-english character hence replacing the foreign character with alternative english character.\r\n\r\n\r\nsetDT(cc)[location %like% \"^Katerina\", location := \"Katerina's Cafe\"]\r\nsetDT(lc)[location %like% \"^Katerina\", location := \"Katerina's Cafe\"]\r\n\r\n\r\n\r\nView the columns of the dataset and their respective attributes.\r\n\r\n\r\nglimpse(cc)\r\n\r\n\r\nRows: 1,490\r\nColumns: 4\r\n$ timestamp  <chr> \"01/06/2014 07:28\", \"01/06/2014 07:34\", \"01/06/20~\r\n$ location   <chr> \"Brew've Been Served\", \"Hallowed Grounds\", \"Brew'~\r\n$ price      <dbl> 11.34, 52.22, 8.33, 16.72, 4.24, 4.17, 28.73, 9.6~\r\n$ last4ccnum <dbl> 4795, 7108, 6816, 9617, 7384, 5368, 7253, 4948, 9~\r\n\r\nglimpse(lc)\r\n\r\n\r\nRows: 1,392\r\nColumns: 4\r\n$ timestamp  <chr> \"01/06/2014\", \"01/06/2014\", \"01/06/2014\", \"01/06/~\r\n$ location   <chr> \"Brew've Been Served\", \"Brew've Been Served\", \"Ha~\r\n$ price      <dbl> 4.17, 9.60, 16.53, 11.51, 12.93, 4.27, 11.20, 15.~\r\n$ loyaltynum <chr> \"L2247\", \"L9406\", \"L8328\", \"L6417\", \"L1107\", \"L40~\r\n\r\nChanging data type and extracting new columns\r\nIt can be seen that the timestamp column is in character datatype. Hence, it is converted to timestamp format. After which day, hour and day of the week are extracted from the timestamp column. In addition, the ‘last4ccnum’ column in the credit card dataset is changed from integer format to character format.\r\n\r\n\r\ncc$timestamp <- date_time_parse(cc$timestamp,\r\n                                zone = \"\",\r\n                                format = \"%m/%d/%Y %H:%M\")\r\n\r\nlc$timestamp <- date_time_parse(lc$timestamp,\r\n                                zone = \"\",\r\n                                format = \"%m/%d/%Y\")\r\n\r\n\r\ncc <- cc %>%\r\n  mutate(day = get_day(timestamp),\r\n         hour = get_hour(timestamp),\r\n         date = as_date(timestamp))\r\n\r\nlc <- lc %>%\r\n  mutate(day = get_day(timestamp))\r\n\r\n\r\ncc$dayofweek <- weekdays(cc$timestamp)\r\n\r\nlc$dayofweek <- weekdays(lc$timestamp)\r\n\r\ncc$last4ccnum <- as.character(cc$last4ccnum)\r\n\r\n\r\n\r\nGetting a glimpse after change\r\nView the columns of the dataset and their respective attributes after pre-processing.\r\n\r\n\r\nglimpse(cc)\r\n\r\n\r\nRows: 1,490\r\nColumns: 8\r\n$ timestamp  <dttm> 2014-01-06 07:28:00, 2014-01-06 07:34:00, 2014-0~\r\n$ location   <chr> \"Brew've Been Served\", \"Hallowed Grounds\", \"Brew'~\r\n$ price      <dbl> 11.34, 52.22, 8.33, 16.72, 4.24, 4.17, 28.73, 9.6~\r\n$ last4ccnum <chr> \"4795\", \"7108\", \"6816\", \"9617\", \"7384\", \"5368\", \"~\r\n$ day        <int> 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6~\r\n$ hour       <int> 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7~\r\n$ date       <date> 2014-01-06, 2014-01-06, 2014-01-06, 2014-01-06, ~\r\n$ dayofweek  <chr> \"Monday\", \"Monday\", \"Monday\", \"Monday\", \"Monday\",~\r\n\r\nglimpse(lc)\r\n\r\n\r\nRows: 1,392\r\nColumns: 6\r\n$ timestamp  <dttm> 2014-01-06, 2014-01-06, 2014-01-06, 2014-01-06, ~\r\n$ location   <chr> \"Brew've Been Served\", \"Brew've Been Served\", \"Ha~\r\n$ price      <dbl> 4.17, 9.60, 16.53, 11.51, 12.93, 4.27, 11.20, 15.~\r\n$ loyaltynum <chr> \"L2247\", \"L9406\", \"L8328\", \"L6417\", \"L1107\", \"L40~\r\n$ day        <int> 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6~\r\n$ dayofweek  <chr> \"Monday\", \"Monday\", \"Monday\", \"Monday\", \"Monday\",~\r\n\r\nUsually, the loyalty cards are used along with the credit cards to get some discounts and rewards but there is a mismatch between the total number of records between the credit card transactions (1490) and loyalty card transactions (1392).\r\nGetting the count of transactions made by the employees with credit cards and loyalty cards in order to find the most frequented and least frequented locations.\r\n\r\n\r\ncc_bar <- cc %>%\r\n  count(location, sort=TRUE)\r\n\r\nlc_bar <- lc %>%\r\n  count(location, sort=TRUE)\r\n\r\n\r\n\r\nPlotting the most frequented and least frequented locations\r\n\r\n\r\nfig <- plot_ly(cc_bar, x = ~location, y = ~n, type = 'bar', hoverinfo=\"text\", text = ~paste(location,'<\/br><\/br>', n),\r\n               marker = list(color = ~n,\r\n                             colorbar = list(title = 'Visits'))) %>%\r\n  layout(title = \"Popular locations by credit card transactions\",\r\n         xaxis = list(title = \"Location\", categoryarray = ~location, categoryorder = \"array\", tickangle                = 270),\r\n         yaxis = list(title = \"Visits\"))\r\nfig\r\n\r\n\r\n\r\n{\"x\":{\"visdat\":{\"377c572adc0\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"377c572adc0\",\"attrs\":{\"377c572adc0\":{\"x\":{},\"y\":{},\"hoverinfo\":\"text\",\"text\":{},\"marker\":{\"color\":{},\"colorbar\":{\"title\":\"Visits\"}},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"bar\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"title\":\"Popular locations by credit card transactions\",\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"Location\",\"categoryarray\":[\"Katerina's Cafe\",\"Hippokampos\",\"Guy's Gyros\",\"Brew've Been Served\",\"Hallowed Grounds\",\"Ouzeri Elian\",\"Abila Zacharo\",\"Gelatogalore\",\"Kalami Kafenion\",\"Bean There Done That\",\"Frydos Autosupply n' More\",\"Coffee Cameleon\",\"Jack's Magical Beans\",\"Brewed Awakenings\",\"Abila Airport\",\"Albert's Fine Clothing\",\"Nationwide Refinery\",\"Shoppers' Delight\",\"Carlyle Chemical Inc.\",\"Stewart and Sons Fabrication\",\"General Grocer\",\"Kronos Mart\",\"Chostus Hotel\",\"Coffee Shack\",\"Desafio Golf Course\",\"Roberts and Sons\",\"Ahaggo Museum\",\"Kronos Pipe and Irrigation\",\"Maximum Iron and Steel\",\"Abila Scrapyard\",\"Octavio's Office Supplies\",\"Frank's Fuel\",\"U-Pump\",\"Daily Dealz\"],\"categoryorder\":\"array\",\"tickangle\":270,\"type\":\"category\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"Visits\"},\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"showSendToCloud\":false},\"data\":[{\"x\":[\"Katerina's Cafe\",\"Hippokampos\",\"Guy's Gyros\",\"Brew've Been Served\",\"Hallowed Grounds\",\"Ouzeri Elian\",\"Abila Zacharo\",\"Gelatogalore\",\"Kalami Kafenion\",\"Bean There Done That\",\"Frydos Autosupply n' More\",\"Coffee Cameleon\",\"Jack's Magical Beans\",\"Brewed Awakenings\",\"Abila Airport\",\"Albert's Fine Clothing\",\"Nationwide Refinery\",\"Shoppers' Delight\",\"Carlyle Chemical Inc.\",\"Stewart and Sons Fabrication\",\"General Grocer\",\"Kronos Mart\",\"Chostus Hotel\",\"Coffee Shack\",\"Desafio Golf Course\",\"Roberts and Sons\",\"Ahaggo Museum\",\"Kronos Pipe and Irrigation\",\"Maximum Iron and Steel\",\"Abila Scrapyard\",\"Octavio's Office Supplies\",\"Frank's Fuel\",\"U-Pump\",\"Daily Dealz\"],\"y\":[212,171,158,156,92,87,72,64,64,47,47,38,37,30,25,25,24,20,19,18,10,10,9,8,8,8,6,6,6,4,4,2,2,1],\"hoverinfo\":[\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\"],\"text\":[\"Katerina's Cafe <\\/br><\\/br> 212\",\"Hippokampos <\\/br><\\/br> 171\",\"Guy's Gyros <\\/br><\\/br> 158\",\"Brew've Been Served <\\/br><\\/br> 156\",\"Hallowed Grounds <\\/br><\\/br> 92\",\"Ouzeri Elian <\\/br><\\/br> 87\",\"Abila Zacharo <\\/br><\\/br> 72\",\"Gelatogalore <\\/br><\\/br> 64\",\"Kalami Kafenion <\\/br><\\/br> 64\",\"Bean There Done That <\\/br><\\/br> 47\",\"Frydos Autosupply n' More <\\/br><\\/br> 47\",\"Coffee Cameleon <\\/br><\\/br> 38\",\"Jack's Magical Beans <\\/br><\\/br> 37\",\"Brewed Awakenings <\\/br><\\/br> 30\",\"Abila Airport <\\/br><\\/br> 25\",\"Albert's Fine Clothing <\\/br><\\/br> 25\",\"Nationwide Refinery <\\/br><\\/br> 24\",\"Shoppers' Delight <\\/br><\\/br> 20\",\"Carlyle Chemical Inc. <\\/br><\\/br> 19\",\"Stewart and Sons Fabrication <\\/br><\\/br> 18\",\"General Grocer <\\/br><\\/br> 10\",\"Kronos Mart <\\/br><\\/br> 10\",\"Chostus Hotel <\\/br><\\/br> 9\",\"Coffee Shack <\\/br><\\/br> 8\",\"Desafio Golf Course <\\/br><\\/br> 8\",\"Roberts and Sons <\\/br><\\/br> 8\",\"Ahaggo Museum <\\/br><\\/br> 6\",\"Kronos Pipe and Irrigation <\\/br><\\/br> 6\",\"Maximum Iron and Steel <\\/br><\\/br> 6\",\"Abila Scrapyard <\\/br><\\/br> 4\",\"Octavio's Office Supplies <\\/br><\\/br> 4\",\"Frank's Fuel <\\/br><\\/br> 2\",\"U-Pump <\\/br><\\/br> 2\",\"Daily Dealz <\\/br><\\/br> 1\"],\"marker\":{\"color\":[212,171,158,156,92,87,72,64,64,47,47,38,37,30,25,25,24,20,19,18,10,10,9,8,8,8,6,6,6,4,4,2,2,1],\"colorbar\":{\"title\":\"Visits\"},\"line\":{\"color\":\"rgba(31,119,180,1)\"}},\"type\":\"bar\",\"error_y\":{\"color\":\"rgba(31,119,180,1)\"},\"error_x\":{\"color\":\"rgba(31,119,180,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}\r\n\r\n\r\nfig <- plot_ly(lc_bar, x = ~location, y = ~n, type = 'bar', hoverinfo=\"text\", text = ~paste(location,'<\/br><\/br>', n),\r\n               marker = list(color = ~n,\r\n                             colorbar = list(title = 'Visits'))) %>%\r\n  layout(title = \"Popular locations by loyalty card transactions\",\r\n         xaxis = list(title = \"Location\", categoryarray = ~location, categoryorder = \"array\", tickangle                = 270),\r\n         yaxis = list(title = \"Visits\")) \r\nfig\r\n\r\n\r\n\r\n{\"x\":{\"visdat\":{\"377c15d85bd1\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"377c15d85bd1\",\"attrs\":{\"377c15d85bd1\":{\"x\":{},\"y\":{},\"hoverinfo\":\"text\",\"text\":{},\"marker\":{\"color\":{},\"colorbar\":{\"title\":\"Visits\"}},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"bar\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"title\":\"Popular locations by loyalty card transactions\",\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"Location\",\"categoryarray\":[\"Katerina's Cafe\",\"Hippokampos\",\"Guy's Gyros\",\"Brew've Been Served\",\"Ouzeri Elian\",\"Hallowed Grounds\",\"Abila Zacharo\",\"Kalami Kafenion\",\"Gelatogalore\",\"Bean There Done That\",\"Frydos Autosupply n' More\",\"Coffee Cameleon\",\"Jack's Magical Beans\",\"Brewed Awakenings\",\"Abila Airport\",\"Albert's Fine Clothing\",\"Nationwide Refinery\",\"Carlyle Chemical Inc.\",\"Shoppers' Delight\",\"Stewart and Sons Fabrication\",\"General Grocer\",\"Coffee Shack\",\"Chostus Hotel\",\"Desafio Golf Course\",\"Kronos Mart\",\"Ahaggo Museum\",\"Kronos Pipe and Irrigation\",\"Maximum Iron and Steel\",\"Roberts and Sons\",\"Abila Scrapyard\",\"Octavio's Office Supplies\",\"Frank's Fuel\",\"U-Pump\"],\"categoryorder\":\"array\",\"tickangle\":270,\"type\":\"category\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"Visits\"},\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"showSendToCloud\":false},\"data\":[{\"x\":[\"Katerina's Cafe\",\"Hippokampos\",\"Guy's Gyros\",\"Brew've Been Served\",\"Ouzeri Elian\",\"Hallowed Grounds\",\"Abila Zacharo\",\"Kalami Kafenion\",\"Gelatogalore\",\"Bean There Done That\",\"Frydos Autosupply n' More\",\"Coffee Cameleon\",\"Jack's Magical Beans\",\"Brewed Awakenings\",\"Abila Airport\",\"Albert's Fine Clothing\",\"Nationwide Refinery\",\"Carlyle Chemical Inc.\",\"Shoppers' Delight\",\"Stewart and Sons Fabrication\",\"General Grocer\",\"Coffee Shack\",\"Chostus Hotel\",\"Desafio Golf Course\",\"Kronos Mart\",\"Ahaggo Museum\",\"Kronos Pipe and Irrigation\",\"Maximum Iron and Steel\",\"Roberts and Sons\",\"Abila Scrapyard\",\"Octavio's Office Supplies\",\"Frank's Fuel\",\"U-Pump\"],\"y\":[195,155,146,140,84,80,71,66,60,45,42,37,35,29,26,25,23,19,18,17,12,9,8,8,8,6,6,6,6,4,3,2,1],\"hoverinfo\":[\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\"],\"text\":[\"Katerina's Cafe <\\/br><\\/br> 195\",\"Hippokampos <\\/br><\\/br> 155\",\"Guy's Gyros <\\/br><\\/br> 146\",\"Brew've Been Served <\\/br><\\/br> 140\",\"Ouzeri Elian <\\/br><\\/br> 84\",\"Hallowed Grounds <\\/br><\\/br> 80\",\"Abila Zacharo <\\/br><\\/br> 71\",\"Kalami Kafenion <\\/br><\\/br> 66\",\"Gelatogalore <\\/br><\\/br> 60\",\"Bean There Done That <\\/br><\\/br> 45\",\"Frydos Autosupply n' More <\\/br><\\/br> 42\",\"Coffee Cameleon <\\/br><\\/br> 37\",\"Jack's Magical Beans <\\/br><\\/br> 35\",\"Brewed Awakenings <\\/br><\\/br> 29\",\"Abila Airport <\\/br><\\/br> 26\",\"Albert's Fine Clothing <\\/br><\\/br> 25\",\"Nationwide Refinery <\\/br><\\/br> 23\",\"Carlyle Chemical Inc. <\\/br><\\/br> 19\",\"Shoppers' Delight <\\/br><\\/br> 18\",\"Stewart and Sons Fabrication <\\/br><\\/br> 17\",\"General Grocer <\\/br><\\/br> 12\",\"Coffee Shack <\\/br><\\/br> 9\",\"Chostus Hotel <\\/br><\\/br> 8\",\"Desafio Golf Course <\\/br><\\/br> 8\",\"Kronos Mart <\\/br><\\/br> 8\",\"Ahaggo Museum <\\/br><\\/br> 6\",\"Kronos Pipe and Irrigation <\\/br><\\/br> 6\",\"Maximum Iron and Steel <\\/br><\\/br> 6\",\"Roberts and Sons <\\/br><\\/br> 6\",\"Abila Scrapyard <\\/br><\\/br> 4\",\"Octavio's Office Supplies <\\/br><\\/br> 3\",\"Frank's Fuel <\\/br><\\/br> 2\",\"U-Pump <\\/br><\\/br> 1\"],\"marker\":{\"color\":[195,155,146,140,84,80,71,66,60,45,42,37,35,29,26,25,23,19,18,17,12,9,8,8,8,6,6,6,6,4,3,2,1],\"colorbar\":{\"title\":\"Visits\"},\"line\":{\"color\":\"rgba(31,119,180,1)\"}},\"type\":\"bar\",\"error_y\":{\"color\":\"rgba(31,119,180,1)\"},\"error_x\":{\"color\":\"rgba(31,119,180,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}\r\nBy comparing both the bar plots by credit card and loyalty card transactions, the most popular locations are identified as Katerina’s Cafe, Hippokampos, Guy’s Gyros and Brew’ve Been Served. The fifth popular location is Hallowed Grounds according to the number of transactions made by credit card. But there is some anomaly in the usage of loyalty cards in this location as there are mismatches in total credit card transactions and total loyalty card transactions. The total number of credit card transactions in this location is 92 but the total number of loyalty card transactions is only 80. One suspicious transaction that can be observed from the above plot is at location Daily Dealz as there was only one recorded credit card transaction over the period of 14 days and also the loyalty card is not used in this particular location.\r\nNow plotting a heatmap to find out the most visited and least visited locations by hour of the day.\r\n\r\n\r\n\r\n",
      "last_modified": "2021-07-26T11:29:43+08:00"
    }
  ],
  "collections": []
}

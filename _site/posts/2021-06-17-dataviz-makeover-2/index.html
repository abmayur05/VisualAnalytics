<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
<title>DataViz Makeover: DataViz Makeover 2</title>

<meta property="description" itemprop="description" content="A makeover of merchandise trade of Singapore with its trading partners for the year 2011-2020."/>


<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2021-06-20"/>
<meta property="article:created" itemprop="dateCreated" content="2021-06-20"/>
<meta name="article:author" content="Mayurapriyann Arulmozhi Baskaran"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="DataViz Makeover: DataViz Makeover 2"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="A makeover of merchandise trade of Singapore with its trading partners for the year 2011-2020."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="DataViz Makeover"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary"/>
<meta property="twitter:title" content="DataViz Makeover: DataViz Makeover 2"/>
<meta property="twitter:description" content="A makeover of merchandise trade of Singapore with its trading partners for the year 2011-2020."/>

<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["DataViz Makeover 2"]},{"type":"character","attributes":{},"value":["A makeover of merchandise trade of Singapore with its trading partners for the year 2011-2020."]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Mayurapriyann Arulmozhi Baskaran"]},{"type":"character","attributes":{},"value":["https://www.linkedin.com/in/mayurapriyann/"]}]}]},{"type":"character","attributes":{},"value":["06-20-2021"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc","toc_float","smooth_scroll","theme","highlight"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["united"]},{"type":"character","attributes":{},"value":["tango"]}]}]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["dataviz-makeover-2_files/anchor-4.2.2/anchor.min.js","dataviz-makeover-2_files/bowser-1.9.3/bowser.min.js","dataviz-makeover-2_files/distill-2.2.21/template.v2.js","dataviz-makeover-2_files/header-attrs-2.8/header-attrs.js","dataviz-makeover-2_files/jquery-1.11.3/jquery.min.js","dataviz-makeover-2_files/popper-2.6.0/popper.min.js","dataviz-makeover-2_files/tippy-6.2.7/tippy-bundle.umd.min.js","dataviz-makeover-2_files/tippy-6.2.7/tippy-light-border.css","dataviz-makeover-2_files/tippy-6.2.7/tippy.css","dataviz-makeover-2_files/tippy-6.2.7/tippy.umd.min.js","dataviz-makeover-2_files/webcomponents-2.0.0/webcomponents.js","img/1.PNG","img/10.png","img/11.png","img/12.png","img/13.png","img/14.png","img/15.png","img/16.png","img/17.png","img/18.png","img/19.png","img/20.png","img/21.png","img/22.png","img/23.png","img/24.png","img/25.png","img/26.png","img/27.png","img/28.png","img/29.png","img/3.jpg","img/30.png","img/31.png","img/32.png","img/33.png","img/34.png","img/35.png","img/36.png","img/37.png","img/38.png","img/39.png","img/4.png","img/40.png","img/41.png","img/42.png","img/43.png","img/44.png","img/45.png","img/46.png","img/47.png","img/48.png","img/49.png","img/5.png","img/50.png","img/51.png","img/52.png","img/53.png","img/54.png","img/55.png","img/56.png","img/57.png","img/58.png","img/59.png","img/6.png","img/60.png","img/61.png","img/62.png","img/63.png","img/64.png","img/65.png","img/66.PNG","img/67.PNG","img/68.PNG","img/69.PNG","img/7.png","img/70.PNG","img/71.PNG","img/72.PNG","img/73.PNG","img/8.png","img/9.png"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<!--/radix_placeholder_distill-->
  <script src="../../site_libs/header-attrs-2.8/header-attrs.js"></script>
  <script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
  <script src="../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"DataViz Makeover 2","description":"A makeover of merchandise trade of Singapore with its trading partners for the year 2011-2020.","authors":[{"author":"Mayurapriyann Arulmozhi Baskaran","authorURL":"https://www.linkedin.com/in/mayurapriyann/","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-06-20T00:00:00.000+08:00","citationText":"Baskaran, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">DataViz Makeover</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<a href="../../about.html">About</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>DataViz Makeover 2</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>A makeover of merchandise trade of Singapore with its trading partners for the year 2011-2020.</p></p>
</div>

<div class="d-byline">
  Mayurapriyann Arulmozhi Baskaran <a href="https://www.linkedin.com/in/mayurapriyann/" class="uri">https://www.linkedin.com/in/mayurapriyann/</a> 
  
<br/>06-20-2021
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#critique-of-visualization">1.0 Critique of Visualization</a>
<ul>
<li><a href="#clarity">1.1 Clarity</a></li>
<li><a href="#aesthetics">1.2 Aesthetics</a></li>
</ul></li>
<li><a href="#alternative-design">2.0 Alternative Design</a>
<ul>
<li><a href="#clarity-1">2.1 Clarity</a></li>
<li><a href="#aesthetics-1">2.2 Aesthetics</a></li>
</ul></li>
<li><a href="#proposed-visualisation">3.0 Proposed Visualisation</a></li>
<li><a href="#step-by-step-guide">4.0 Step-by-step Guide</a></li>
<li><a href="#derived-insights">5.0 Derived Insights</a></li>
</ul>
</nav>
</div>
<div class="layout-chunk" data-layout="l-body">
<style type="text/css">
.columns {display: flex;}
h1 {color: MidnightBlue;}
h2 {color: Navy;}
h3 {color: DarkSlateBlue;}
img{
    border: 2px LightGrey;
    border-style: solid
}
</style>
</div>
<h2 id="critique-of-visualization">1.0 Critique of Visualization</h2>
<p>The original visualization can be seen below.</p>
<center>
<figure>
<img src="img/1.PNG" alt="Figure 1: Given visualization" /><figcaption aria-hidden="true">Figure 1: Given visualization</figcaption>
</figure>
</center>
<h3 id="clarity">1.1 Clarity</h3>
<ol type="1">
<li>The title of the graph is not present. An enlightening data visualization will be incomplete without a well-worded title, as it is one of the main components that grabs the attention of the people. Effective titles can reduce the mental effort of the readers and at the same time convey the intended goal of the visualization.</li>
<li>Both the axis has values ranging from 0 to 80 rightly representing exports and imports respectively but the if we look at the graph, few values labeled against each country exceed the value in the x-axis and y-axis scales. Though it may represent the summation of exports and imports, it lacks clarity from the readers’ point of view as it is hard to interpret the export/import values.</li>
<li>Key performance measures of the two countries discussed below the visualization chart but since there is no information on the year for which the data has been visualized, it is very hard to relate.</li>
<li>Though the x-axis and y-axis are labeled as exports and imports, the placement of the x-axis and y-axis labels are inappropriate which can possibly lead the reader to misinterpret easily.</li>
<li>European Union which is composed of 28 countries is present in the graph. Also, the countries which form the European Union are also present in the chart leading to biased comparison.</li>
</ol>
<h3 id="aesthetics">1.2 Aesthetics</h3>
<ol type="1">
<li>The circles used to represent individual countries overlap each other making it difficult to interpret the size of the circle. Also, the names corresponding to each circle don’t follow a uniform alignment.</li>
<li>The x-axis and y-axis are on a continuous scale but tick marks are not present.</li>
<li>Absence of gridlines makes it even harder to map the x-axis and y-axis values to the center of the circle.</li>
<li>Similar colors are used for representing European Union and Thailand.</li>
<li>Annotations and tooltips are not efficiently used.</li>
</ol>
<h2 id="alternative-design">2.0 Alternative Design</h2>
<p>The proposed design is as follows.</p>
<center>
<figure>
<img src="img/2.png" alt="Figure 2: Proposed Sketch" /><figcaption aria-hidden="true">Figure 2: Proposed Sketch</figcaption>
</figure>
</center>
<h3 id="clarity-1">2.1 Clarity</h3>
<ol type="1">
<li>Title plays one of the key roles in grabbing the attention of the readers hence an appropriate chart title is given to the chart. Since the proposed dashboard has two visualizations, the main title is accompanied by two sub-titles that set the context for understanding the visualizations.</li>
<li>The original chart is limited to only the top 10 trading partners by overall trade for the year 2020. But the proposed chart is highly customizable by users as the users will have the power to choose the year, trade type, top n, and bottom n countries. Hence it gives the user a wide variety of options to explore and compare as per their wish.</li>
<li>The parameter change is dynamically aligned with the title and each entity has been labeled respectively. Additional information such as import/export/total trade was put under one roof inside the tooltip.</li>
<li>Extended version of the slope chart is presented for the user to pick the countries of their wish and compare year-over-year growth of the trade. Trade growth increase/decrease corresponding to the previous year is represented by labels.</li>
<li>In the slope chart presented, the monthly trend of import/export fluctuations was also included in the tooltip. The monthly trend gives added advantage to zoom in closely to look into any particular month and check how imports and imports have been affected by any historically significant event.</li>
<li>The simple bar chart is used to list the top/bottom N countries by trade type. The slope chart on the right gives a detailed summary of the trend over 10 years. Since the selection of years is customizable the user can compare and contrast even for two or more years.</li>
</ol>
<h3 id="aesthetics-1">2.2 Aesthetics</h3>
<ol type="1">
<li>Bright and vibrant colors are used to distinguish the top 10 countries by corresponding trade type.</li>
<li>The tool tops in both the visualizations are efficiently used to present import and export information for the corresponding parameter.</li>
<li>Imports and exports visualizations present in the tooltip of both the charts are presented with uniform colors to avoid confusion.</li>
<li>The headers present in both the visualization get updated as the user changes the parameter.</li>
<li>The axis scale is hidden in both the visualization as the labels present against each datapoint infers the same information as that of the axis scale. Since both the charts are customizable, removing the labels can some extend give some space to avoid the overlapping issues to a certain extent.</li>
<li>The year-over-year percentage growth is represented by red and green to show the increase/decrease in trend compared to the previous selected year.</li>
</ol>
<h2 id="proposed-visualisation">3.0 Proposed Visualisation</h2>
<p>Please view the interactive visualisation on [Tableau Public](## 3.0 Proposed Visualisation</p>
<p>Please view the interactive visualisation on <a href="https://public.tableau.com/app/profile/mayur4143/viz/DataVizMakeover1_16223530559820/Dashboard1">Tableau Public</a> here.) here.</p>
<h2 id="step-by-step-guide">4.0 Step-by-step Guide</h2>
<ol type="1">
<li>Unzip the downloaded file from the SingStat website. the excel sheet(outputFile.xlsx) into Tableau Prep builder. The first five rows in the excel sheet contain non-tabular data which needs to be excluded.</li>
</ol>
<center>
<figure>
<img src="img/3.jpg" alt="Figure 3: Raw Excel Sheet" /><figcaption aria-hidden="true">Figure 3: Raw Excel Sheet</figcaption>
</figure>
</center>
<ol start="2" type="1">
<li>Upload the ‘outputFile.xlsx’ into the Tableau Prep software. Under the contents, there are two sheets ‘T1’ and ‘T2’ representing the imports and exports data respectively.</li>
</ol>
<center>
<figure>
<img src="img/4.png" style="width:30.0%" alt="Figure 4: Tableau Prep Sheets" /><figcaption aria-hidden="true">Figure 4: Tableau Prep Sheets</figcaption>
</figure>
</center>
<ol start="3" type="1">
<li>In the ‘Tables’ pane, there is a check box to select the ‘Data Interpreter’. Click on the check box in order to remove the unwanted data which is present in the excel file in a non-tabular format.</li>
</ol>
<center>
<figure>
<img src="img/5.png" style="width:32.5%" alt="Figure 5: Data Interpreter" /><figcaption aria-hidden="true">Figure 5: Data Interpreter</figcaption>
</figure>
</center>
<ol start="4" type="1">
<li>From the ‘Tables’ pane, drag and drop the sheets ‘T1’ and ‘T2’ in the canvas space.</li>
</ol>
<center>
<figure>
<img src="img/6.png" style="width:30.0%" alt="Figure 6: Sheets In Canvas Space" /><figcaption aria-hidden="true">Figure 6: Sheets In Canvas Space</figcaption>
</figure>
</center>
<ol start="5" type="1">
<li>Once the sheets ‘T1’ and ‘T2’ are in the canvas space, click on the small ‘+’ icon displayed right next to ‘T1’ and ‘T2’ and add ‘Clean Step’ to both sheets ‘T1’ and ‘T2’.</li>
</ol>
<center>
<figure>
<img src="img/7.png" style="width:35.0%" alt="Figure 7: Add Clean Step Node" /><figcaption aria-hidden="true">Figure 7: Add Clean Step Node</figcaption>
</figure>
</center>
<ol start="6" type="1">
<li>Both the sheets ‘T1’ and ‘T2’ hold the data of imports and exports values respectively. Hence, rename the sheets ‘T1’ and ‘T2‘ as ‘Imports’ and ‘Exports’ respectively.</li>
</ol>
<center>
<figure>
<img src="img/8.png" style="width:30.0%" alt="Figure 8: Rename Sheets" /><figcaption aria-hidden="true">Figure 8: Rename Sheets</figcaption>
</figure>
</center>
<ol start="7" type="1">
<li>By selecting the clean step node, exclude the first seven records under the ‘Variables’ column. Because the first record contains the total sum of the import/export values over all the years and the next five records have the import/export values of individual continents. And the last record which is ‘European Union’ comprises 27 countries. Since we already have the data of the individual countries present under the European Union, we exclude ‘European Union’.</li>
</ol>
<center>
<figure>
<img src="img/9.png" style="width:60.0%" alt="Figure 9: Exclude Records" /><figcaption aria-hidden="true">Figure 9: Exclude Records</figcaption>
</figure>
</center>
<ol start="8" type="1">
<li>As the analysis is restricted to years ranging from 2011 to 2020, all the other years that are before and after the ten-year range are excluded.</li>
</ol>
<center>
<figure>
<img src="img/10.png" style="width:90.0%" alt="Figure 10: Exclude Columns" /><figcaption aria-hidden="true">Figure 10: Exclude Columns</figcaption>
</figure>
</center>
<ol start="9" type="1">
<li>The given data is in wide format (i.e) all the dates are present as columns. So, after the ‘Clean Step’ node, click on the small ‘+’ icon and add the ‘Pivot’ node to it.</li>
</ol>
<center>
<figure>
<img src="img/11.png" style="width:40.0%" alt="Figure 11: Add Pivot Node" /><figcaption aria-hidden="true">Figure 11: Add Pivot Node</figcaption>
</figure>
</center>
<ol start="10" type="1">
<li>Now, drag all the dates to the pivot panel where the records get pivoted from columns to rows. Basically, the wide-format data is converted to a long format. Then rename the ‘Variables’ column to ‘Country’ and ‘Pivot 1 Values’ to ‘Date’ respectively.</li>
</ol>
<center>
<figure>
<img src="img/12.png" style="width:50.0%" alt="Figure 12: Pivot Columns To Rows" /><figcaption aria-hidden="true">Figure 12: Pivot Columns To Rows</figcaption>
</figure>
</center>
<ol start="11" type="1">
<li>The Tableau Prep automatically identifies and assigns the data type of each column present in the table. But at times it may be wrongly identified hence we have to perform a manual data type change. The recently pivoted column which contains all the dates is initially assigned with string datatype. Hence, the data type field is right-clicked and the data type is changed to date format.</li>
</ol>
<center>
<figure>
<img src="img/13.png" style="width:25.0%" alt="Figure 13: Data Type Conversion" /><figcaption aria-hidden="true">Figure 13: Data Type Conversion</figcaption>
</figure>
</center>
<ol start="12" type="1">
<li>The next step after pivoting is to add the output filed and run the flow to generate the pre-processed excel sheet. Add the ‘Output’ node to both the imports and exports sheet. Run the flow to generate ‘Imports.xlsx’ and ‘Exports.xlsx’ at the desired directory.</li>
</ol>
<center>
<figure>
<img src="img/14.png" style="width:45.0%" alt="Figure 14: Output Flow" /><figcaption aria-hidden="true">Figure 14: Output Flow</figcaption>
</figure>
</center>
<ol start="13" type="1">
<li>Launch the Tableau application. Just drag and drop both the excel files ‘Imports.xlsx’ and ‘Exports.xlsx’ into Tableau.</li>
</ol>
<center>
<figure>
<img src="img/15.png" style="width:30.0%" alt="Figure 15: Upload Excel To Tableau" /><figcaption aria-hidden="true">Figure 15: Upload Excel To Tableau</figcaption>
</figure>
</center>
<ol start="14" type="1">
<li>The imports and exports table are present in a different sheet. So, we have to combine the data from both sheets into a single table for our analysis. Hence, drag the ‘Exports.xlsx’ sheet onto the workspace and double click on it. Now, just drag the ‘Imports.xlsx’ next to the exports table and drop it. By default, an inner join relationship represented by two intersecting circles is established between the column having the country name details.</li>
</ol>
<center>
<figure>
<img src="img/16.png" style="width:80.0%" alt="Figure 16: Establishing Inner Join Relationship" /><figcaption aria-hidden="true">Figure 16: Establishing Inner Join Relationship</figcaption>
</figure>
</center>
<ol start="15" type="1">
<li>In addition to the join condition with the ‘Country’ column in both the table, another join condition with the ‘Date’ column is established.</li>
</ol>
<center>
<figure>
<img src="img/17.png" style="width:40.0%" alt="Figure 17: Custom Split" /><figcaption aria-hidden="true">Figure 17: Custom Split</figcaption>
</figure>
</center>
<ol start="16" type="1">
<li>Now the joined table has two country columns and two date columns. Hide the country and date column corresponding to any one of the tables in order to avoid duplicate columns.</li>
</ol>
<center>
<figure>
<img src="img/18.png" style="width:40.0%" alt="Figure 18: Hide Duplicate Columns" /><figcaption aria-hidden="true">Figure 18: Hide Duplicate Columns</figcaption>
</figure>
</center>
<ol start="17" type="1">
<li>In the ‘Country’ column all the country names are followed by ‘(Thousand Dollars)’ representing the scale. Custom split is used in order to split the country name alone by using ‘(‘ as the delimiter. Click on the arrow present in the ‘Country’ column and select ‘Custom Split’.</li>
</ol>
<center>
<figure>
<img src="img/19.png" style="width:40.0%" alt="Figure 19: Custom Split" /><figcaption aria-hidden="true">Figure 19: Custom Split</figcaption>
</figure>
</center>
<ol start="18" type="1">
<li>The import and export values are given on thousand dollars scale. So, the import/export values are to be multiplied by 1000 to get the actual value of imports and exports. Hence, a new calculated field is created by clicking the arrow in the ‘Import (SGD)’ column and select ‘Create Calculated Field’.</li>
</ol>
<center>
<figure>
<img src="img/20.png" style="width:40.0%" alt="Figure 20: Create Calculated Field" /><figcaption aria-hidden="true">Figure 20: Create Calculated Field</figcaption>
</figure>
</center>
<ol start="19" type="1">
<li>Create a new calculated field by adding the import and export column in the formula box and multiply it with 1000 to get the actual value.</li>
</ol>
<center>
<figure>
<img src="img/21.png" style="width:65.0%" alt="Figure 21: Import Column Formula" /><figcaption aria-hidden="true">Figure 21: Import Column Formula</figcaption>
</figure>
</center>
<ol start="20" type="1">
<li>Now we have the actual value of imports and exports corresponding to each country month-wise. Create a new calculated field ‘Total Trade’ to sum up both the ‘Export’ and ‘Import’ columns.</li>
</ol>
<center>
<figure>
<img src="img/22.png" style="width:65.0%" alt="Figure 22: Total Trade Column Formula" /><figcaption aria-hidden="true">Figure 22: Total Trade Column Formula</figcaption>
</figure>
</center>
<ol start="21" type="1">
<li>The table-level pre-processing is completed. Now open a new worksheet by clicking on the ‘New Worksheet’ icon present towards the bottom of the application.</li>
</ol>
<center>
<figure>
<img src="img/23.png" style="width:17.5%" alt="Figure 23: New Worksheet Icon" /><figcaption aria-hidden="true">Figure 23: New Worksheet Icon</figcaption>
</figure>
</center>
<ol start="22" type="1">
<li>Create a new parameter by selecting ‘Create parameter’ from the drop-down present next to the ‘Search’ bar.</li>
</ol>
<center>
<figure>
<img src="img/24.png" style="width:22.5%" alt="Figure 24: Create Parameter" /><figcaption aria-hidden="true">Figure 24: Create Parameter</figcaption>
</figure>
</center>
<ol start="23" type="1">
<li>‘Create parameter’ pop-up dialog box opens up. Create a new parameter ‘Trade Type’ with string datatype with a list consisting of Export, Import, and Total Trade for the users to select trade type of his/her interest.</li>
</ol>
<center>
<figure>
<img src="img/25.png" style="width:60.0%" alt="Figure 25: Defining Parameter" /><figcaption aria-hidden="true">Figure 25: Defining Parameter</figcaption>
</figure>
</center>
<ol start="24" type="1">
<li>Click on the down arrow present to the right of the ‘Search’ bar and select ‘Create Calculated Field’ with column name as ‘Selected Trade Value’ and enter the formula as shown in the table. Drag the newly calculated field ‘Trade Type’ onto the Columns pane.</li>
</ol>
<center>
<figure>
<img src="img/26.png" style="width:65.0%" alt="Figure 26: Calculated Field Formula" /><figcaption aria-hidden="true">Figure 26: Calculated Field Formula</figcaption>
</figure>
</center>
<center>
<figure>
<img src="img/27.png" style="width:40.0%" alt="Figure 27: Columns Pane" /><figcaption aria-hidden="true">Figure 27: Columns Pane</figcaption>
</figure>
</center>
<ol start="25" type="1">
<li>Create another parameter named ‘Top or Bottom’ to give the users the flexibility to filter top N or bottom N countries as per the selected trade type.</li>
</ol>
<center>
<figure>
<img src="img/28.png" style="width:60.0%" alt="Figure 28: Defining Parameter" /><figcaption aria-hidden="true">Figure 28: Defining Parameter</figcaption>
</figure>
</center>
<ol start="26" type="1">
<li>Create a new calculated field ‘Dynamic Rank’ for displaying the ranks of all the countries based on selected parameters.</li>
</ol>
<center>
<figure>
<img src="img/29.png" style="width:65.0%" alt="Figure 29: Calculated Field Formula" /><figcaption aria-hidden="true">Figure 29: Calculated Field Formula</figcaption>
</figure>
</center>
<ol start="27" type="1">
<li>Drop the newly calculated field ‘Dynamic Rank’ onto the Rows pane.</li>
</ol>
<center>
<figure>
<img src="img/30.png" style="width:30.0%" alt="Figure 30: Columns and Rows Pane" /><figcaption aria-hidden="true">Figure 30: Columns and Rows Pane</figcaption>
</figure>
</center>
<ol start="28" type="1">
<li>Drag the ‘Country’ column to the color pane present under the Marks tool box in order to distinguish the countries based on the color.</li>
</ol>
<center>
<figure>
<img src="img/31.png" style="width:25.0%" alt="Figure 31: Marks Tool Box" /><figcaption aria-hidden="true">Figure 31: Marks Tool Box</figcaption>
</figure>
</center>
<ol start="29" type="1">
<li>Click on the arrow present towards the right of both the parameters ‘Top or Bottom’ and ‘Trade Type’, then select ‘Show Parameter’ to display the parameters onto the right of the worksheet.</li>
</ol>
<center>
<figure>
<img src="img/32.png" style="width:40.0%" alt="Figure 32: Display Parameter" /><figcaption aria-hidden="true">Figure 32: Display Parameter</figcaption>
</figure>
</center>
<ol start="30" type="1">
<li>Again, create a new parameter ‘Enter Value’ for the user to restrict the number of countries that have to be displayed.</li>
</ol>
<center>
<figure>
<img src="img/33.png" style="width:60.0%" alt="Figure 33: User Type-In Parameter" /><figcaption aria-hidden="true">Figure 33: User Type-In Parameter</figcaption>
</figure>
</center>
<ol start="31" type="1">
<li>Drag the ‘Date’ column to the Filter box and select the range of values as ‘Year’. A pop-up box gets displayed, select all the years. Once the filter is created, click on the down arrow present towards the right of it and select ‘Show Filter’ in order for the user to filter by year.</li>
</ol>
<center>
<figure>
<img src="img/34.png" style="width:60.0%" alt="Figure 34: Add Date To Filter Pane" /><figcaption aria-hidden="true">Figure 34: Add Date To Filter Pane</figcaption>
</figure>
</center>
<ol start="32" type="1">
<li>Click on the small arrow in the year filter and select ‘Single Value (dropdown)’ to restrict the user to select only one year.</li>
</ol>
<center>
<figure>
<img src="img/35.png" style="width:30.0%" alt="Figure 35: Format Parameter" /><figcaption aria-hidden="true">Figure 35: Format Parameter</figcaption>
</figure>
</center>
<ol start="33" type="1">
<li>Right-click on the ‘Country’ column and select ‘Create’ followed by ‘Set’ to create a new set. Create two-country sets for the top and bottom filter respectively. So once the user inputs the desired value into the parameter, the number of countries displayed in the chart gets restricted to the user input value.</li>
</ol>
<center>
<figure>
<img src="img/36.png" style="width:55.0%" alt="Figure 36: Create Sets" /><figcaption aria-hidden="true">Figure 36: Create Sets</figcaption>
</figure>
</center>
<ol start="34" type="1">
<li>Create a calculated field to display the top and bottom countries as per the parameter change.</li>
</ol>
<center>
<figure>
<img src="img/37.png" style="width:65.0%" alt="Figure 37: Calculated Field" /><figcaption aria-hidden="true">Figure 37: Calculated Field</figcaption>
</figure>
</center>
<ol start="35" type="1">
<li>A new worksheet is opened and a basic bar graph is created by adding the ‘Date’ and ‘Measure Names’ in the Columns pane. ‘Country’ and ‘Measure Values’ are dropped in the rows field. From the measure values, all the other column data except the exports and imports are removed since this will include only the exports and imports data in a bar chart format inside the tooltip of the previously created chart.</li>
</ol>
<center>
<figure>
<img src="img/38.png" style="width:50.0%" alt="Figure 38: Tooltip Graph Attributes" /><figcaption aria-hidden="true">Figure 38: Tooltip Graph Attributes</figcaption>
</figure>
</center>
<center>
<figure>
<img src="img/39.png" style="width:25.0%" alt="Figure 39: Measure Names" /><figcaption aria-hidden="true">Figure 39: Measure Names</figcaption>
</figure>
</center>
<ol start="36" type="1">
<li>Add ‘Country’ and ‘Selected Trade Type’ in the labels. And in the tooltip, add the columns exports, imports, and total trade value. The chart along with the label and tooltip is displayed as shown in the screenshot.</li>
</ol>
<center>
<figure>
<img src="img/40.png" style="width:80.0%" alt="Figure 40: Tooltip Flyout" /><figcaption aria-hidden="true">Figure 40: Tooltip Flyout</figcaption>
</figure>
</center>
<ol start="37" type="1">
<li>The completed visualization is shown in the screenshot.</li>
</ol>
<center>
<figure>
<img src="img/41.png" alt="Figure 41: Final Visualization 1" /><figcaption aria-hidden="true">Figure 41: Final Visualization 1</figcaption>
</figure>
</center>
<center>
<figure>
<img src="img/42.png" alt="Figure 42: Final Visualization 2" /><figcaption aria-hidden="true">Figure 42: Final Visualization 2</figcaption>
</figure>
</center>
<ol start="38" type="1">
<li>Open a new worksheet for the next visualization. The previous visualization was to explore the trading partners with respect to the trade type to find the top/bottom N countries. The next visualization is on a country-level visualization showing the year-over-year growth of the countries of the user’s choice. Firstly, Drag the column ‘Date’ to the columns pane.</li>
</ol>
<center>
<figure>
<img src="img/43.png" style="width:70.0%" alt="Figure 43: Add Date in Columns Pane" /><figcaption aria-hidden="true">Figure 43: Add Date in Columns Pane</figcaption>
</figure>
</center>
<p>Add ‘Selected Trade Value’ to the Rows pane. The chart obtained is now is bar graph. Convert the bar graph into a line graph under the Marks tool box.</p>
<center>
<figure>
<img src="img/44.png" style="width:25.0%" alt="Figure 44: Convert To Line Graph" /><figcaption aria-hidden="true">Figure 44: Convert To Line Graph</figcaption>
</figure>
</center>
<ol start="39" type="1">
<li>Drag and drop the ‘Country’ column onto the ‘Detail’ pane under the Marks tool box.</li>
</ol>
<center>
<figure>
<img src="img/45.png" style="width:25.0%" alt="Figure 45: Add Country To Detail" /><figcaption aria-hidden="true">Figure 45: Add Country To Detail</figcaption>
</figure>
</center>
<ol start="40" type="1">
<li>Click on the arrow present towards the right of the ‘Selected Trade Value’ present in the Rows pane and uncheck ‘Show header’ from the dropdown list as the value of the measure would be labeled against each data point in the line graph.</li>
</ol>
<center>
<figure>
<img src="img/46.png" style="width:40.0%" alt="Figure 46: Remove Header" /><figcaption aria-hidden="true">Figure 46: Remove Header</figcaption>
</figure>
</center>
<ol start="41" type="1">
<li>The Rows pane has the column ‘Selected Trade Value’ already in place. In addition, add the same column next to it.</li>
</ol>
<center>
<figure>
<img src="img/47.png" style="width:50.0%" alt="Figure 47: Add Same Field To Rows Pane" /><figcaption aria-hidden="true">Figure 47: Add Same Field To Rows Pane</figcaption>
</figure>
</center>
<ol start="42" type="1">
<li>Select the pane under the Marks tool box that corresponds to the newly added column and change the chart type from line to circle. In this way, only the dots remain in the graph.</li>
</ol>
<center>
<figure>
<img src="img/48.png" style="width:22.5%" alt="Figure 48: Create Circle Graph" /><figcaption aria-hidden="true">Figure 48: Create Circle Graph</figcaption>
</figure>
</center>
<ol start="43" type="1">
<li>Adjust the size of the circle to make sure it is not too big or too small. So that once the dot gets overlapped with the line graph, it doesn’t look odd.</li>
</ol>
<center>
<figure>
<img src="img/49.png" style="width:30.0%" alt="Figure 49: Adjust The Size" /><figcaption aria-hidden="true">Figure 49: Adjust The Size</figcaption>
</figure>
</center>
<ol start="44" type="1">
<li>Right-click on the axis of the newly created chart with dots and click on dual-axis to merge both the charts. The two graphs which were present one over the other get clubbed together into a single graph sharing a common x-axis.</li>
</ol>
<center>
<figure>
<img src="img/50.png" style="width:30.0%" alt="Figure 50: Create Dual Axis" /><figcaption aria-hidden="true">Figure 50: Create Dual Axis</figcaption>
</figure>
</center>
<ol start="45" type="1">
<li>Though both the y-axis has the same scale, there might be a slight difference between them which can make dots appear separately from the line. So, right-click on any one of the axes and click on synchronize axis.</li>
</ol>
<center>
<figure>
<img src="img/51.png" style="width:30.0%" alt="Figure 51: Synchronize Axis" /><figcaption aria-hidden="true">Figure 51: Synchronize Axis</figcaption>
</figure>
</center>
<ol start="46" type="1">
<li>Right-click on the ‘Trade Type’ parameter which was created as a part of the first chart and click on the ‘Show Parameter’ from the dropdown to display the trade type parameter towards the right of the chart. Add ‘Date’ and ‘Country’ to the Filters pane.</li>
</ol>
<center>
<figure>
<img src="img/52.png" style="width:25.0%" alt="Figure 52: Add Filters" /><figcaption aria-hidden="true">Figure 52: Add Filters</figcaption>
</figure>
</center>
<ol start="47" type="1">
<li>Right-click on the ‘Date’ and ‘Country’ columns from the Filters pane and select ‘Show Filter’ from the dropdown list. Both the filters get displayed towards the right of the worksheet.</li>
</ol>
<center>
<figure>
<img src="img/53.png" style="width:25.0%" alt="Figure 53: Show Filters" /><figcaption aria-hidden="true">Figure 53: Show Filters</figcaption>
</figure>
</center>
<ol start="48" type="1">
<li>‘Country’ column is added to the color pane under the Marks tool box for both the line graph and circle graph so that both are in the same color. The main reason for adding colors is to differentiate each country when the number of countries chosen by the customer exceeds the threshold which may lead to text overlap.</li>
</ol>
<center>
<figure>
<img src="img/54.png" style="width:20.0%" alt="Figure 54: Color Pane" /><figcaption aria-hidden="true">Figure 54: Color Pane</figcaption>
</figure>
</center>
<ol start="49" type="1">
<li>Now add the ‘Country’ column to the Label pane corresponding to the line graph and the ‘Selected Trade Value’ column to the Label pane corresponding to the dot graph.</li>
</ol>
<center>
<figure>
<img src="img/55.png" style="width:75.0%" alt="Figure 55: Slope Graph" /><figcaption aria-hidden="true">Figure 55: Slope Graph</figcaption>
</figure>
</center>
<ol start="50" type="1">
<li>The trade value in the graph is displayed with too many digits which may lead to ambiguity among the readers, hence right-click on the ‘Selected Trade Value’ label under the Marks toolbox and select ‘Format’.</li>
</ol>
<center>
<figure>
<img src="img/56.png" style="width:25.0%" alt="Figure 56: Format Tooltip" /><figcaption aria-hidden="true">Figure 56: Format Tooltip</figcaption>
</figure>
</center>
<ol start="51" type="1">
<li>Clicking on the ‘Format’ opens a new pane towards the left. Click on the ‘Numbers (Custom)’ and select display units as Billions (B) for easy readability.</li>
</ol>
<center>
<figure>
<img src="img/57.png" style="width:60.0%" alt="Figure 57: Change Display Units" /><figcaption aria-hidden="true">Figure 57: Change Display Units</figcaption>
</figure>
</center>
<center>
<figure>
<img src="img/58.png" style="width:75.0%" alt="Figure 58: Data Point Label" /><figcaption aria-hidden="true">Figure 58: Data Point Label</figcaption>
</figure>
</center>
<ol start="52" type="1">
<li>A new calculated field ‘Percent Of Total’ is created by dividing the sum of the ‘Selected Trade Type’ column by the total sum of ‘Selected Trade Type’.</li>
</ol>
<center>
<figure>
<img src="img/59.png" style="width:65.0%" alt="Figure 59: Calculated Field" /><figcaption aria-hidden="true">Figure 59: Calculated Field</figcaption>
</figure>
</center>
<ol start="53" type="1">
<li>The objective is to obtain the percentage difference between the current year to the previous year. Hence, another calculated field is created by using the newly created calculated column from the previous step.</li>
</ol>
<center>
<figure>
<img src="img/60.png" style="width:65.0%" alt="Figure 60: Get Percentage Difference" /><figcaption aria-hidden="true">Figure 60: Get Percentage Difference</figcaption>
</figure>
</center>
<ol start="54" type="1">
<li>Create another two calculated fields to represent if the percentage difference is positive or negative.</li>
</ol>
<center>
<figure>
<img src="img/61.png" style="width:65.0%" alt="Figure 61: Calculated Field" /><figcaption aria-hidden="true">Figure 61: Calculated Field</figcaption>
</figure>
</center>
<center>
<figure>
<img src="img/62.png" style="width:65.0%" alt="Figure 62: Calculated Field" /><figcaption aria-hidden="true">Figure 62: Calculated Field</figcaption>
</figure>
</center>
<ol start="55" type="1">
<li>Add the newly created columns ‘Positive’ and ‘Negative’ in the Label pane from the Marks tool box to display the percentage difference in red and green color to visually indicate the trade increase/decrease.</li>
</ol>
<center>
<figure>
<img src="img/63.png" style="width:75.0%" alt="Figure 63: Dynamic Coloration" /><figcaption aria-hidden="true">Figure 63: Dynamic Coloration</figcaption>
</figure>
</center>
<ol start="56" type="1">
<li>In order to further look at the monthly import and export for a particular year and country, a basic line chart is created in a new worksheet with ‘Year’ and ‘Month’ in Rows pane and ‘Country’ and ‘Import’, ‘Export’ columns in the Columns pane.</li>
</ol>
<center>
<figure>
<img src="img/64.png" style="width:50.0%" alt="Figure 64: Tooltip Graph" /><figcaption aria-hidden="true">Figure 64: Tooltip Graph</figcaption>
</figure>
</center>
<ol start="57" type="1">
<li>Now the tooltip pane is opened and the necessary modification is done to include all the required fields so that even if there are any textual overlaps, the users can hover over the data point to get the complete information for that corresponding year and country.</li>
</ol>
<center>
<figure>
<img src="img/65.png" style="width:60.0%" alt="Figure 65: Tooltip Content" /><figcaption aria-hidden="true">Figure 65: Tooltip Content</figcaption>
</figure>
</center>
<ol start="58" type="1">
<li>The completed visualization is shown in the screenshot.</li>
</ol>
<center>
<figure>
<img src="img/68.PNG" alt="Figure 66: Tooltip Flyout" /><figcaption aria-hidden="true">Figure 66: Tooltip Flyout</figcaption>
</figure>
</center>
<center>
<figure>
<img src="img/66.PNG" alt="Figure 67: Growth Comparision between 2011 and 2020" /><figcaption aria-hidden="true">Figure 67: Growth Comparision between 2011 and 2020</figcaption>
</figure>
</center>
<center>
<figure>
<img src="img/67.PNG" alt="Figure 68: Year-Over-Year Comaparision" /><figcaption aria-hidden="true">Figure 68: Year-Over-Year Comaparision</figcaption>
</figure>
</center>
<h2 id="derived-insights">5.0 Derived Insights</h2>
<ol type="1">
<li>Over the ten years time period from 2011 to 2020, Hong Kong remains as the top net exporter of Singapore. The net exports reached the peak of 60.76 Billions in the year 2018 followed by a decline of 8.21% in the 2019. But the net exports has increased in the next year by 4.91% though the whole year was worst hit by COVID-19 pandemic. Followed by Hong Kong, Indonesia consistently held thee second position when it comes to net exports from 2011-2019 but drops to fourth position in the year 2020 alone.</li>
</ol>
<center>
<figure>
<img src="img/69.PNG" alt="Figure 69: Year-Over-Year Comparision - Hong Kong" /><figcaption aria-hidden="true">Figure 69: Year-Over-Year Comparision - Hong Kong</figcaption>
</figure>
</center>
<ol start="2" type="1">
<li>Unlike the net exporter, the top net importer was not consistently held by a single partner for all the ten years from 2011-2020. From 2012-2017, United States was the top net importer of Singapore but from 2018-2020 Taiwan became the top net importer of Singapore.</li>
</ol>
<center>
<figure>
<img src="img/71.PNG" alt="Figure 70: Top Net Importers - 2020" /><figcaption aria-hidden="true">Figure 70: Top Net Importers - 2020</figcaption>
</figure>
</center>
<ol start="3" type="1">
<li>The total trade is calculated by summing the exports and imports. By looking at the bar chart from the year 2011 to 2020 we can say that China, Malaysia, United States, Indonesia, Japan were the Singapore’s key trading partners. Malaysia held the top spot for total trade in the year 2011 and 2012 but on 2013 China dethroned Malaysia to become the top trading partner. And from 2013 to 2020, Mainland China retained its top position reaching its peak in the year 2019 summing up to 137.31 Billions.</li>
</ol>
<center>
<figure>
<img src="img/72.PNG" alt="Figure 71: Top Total Trade - 2019" /><figcaption aria-hidden="true">Figure 71: Top Total Trade - 2019</figcaption>
</figure>
</center>
<ol start="4" type="1">
<li>The top trading partners China, Malaysia, Indonesia, United States, and Japan are compared by the total trade value for 2011 vs 2020. It can be observed that only Mainland China and United States showed a total trade growth of 33.86% and 35.01% respectively while a declining trend is noticed for all other trading partners.</li>
</ol>
<center>
<figure>
<img src="img/73.PNG" alt="Figure 72: Top Total Trade - 2011 vs 2020" /><figcaption aria-hidden="true">Figure 72: Top Total Trade - 2011 vs 2020</figcaption>
</figure>
</center>
<p>The tooltip flyout gives us the monthly imports and exports trend corresponding to the selected year. Since, circuit breaker was implemented in Singapore from April 7th most of the countries showed a declining trend around that time period.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
